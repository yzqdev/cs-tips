import{_ as o,Y as p,Z as l,a1 as n,a2 as s,a0 as t,$ as e,G as c}from"./framework-ae46ee38.js";const i={},r=e(`<h1 id="dotnet命令" tabindex="-1"><a class="header-anchor" href="#dotnet命令" aria-hidden="true">#</a> dotnet命令</h1><h1 id="dotnet命令-1" tabindex="-1"><a class="header-anchor" href="#dotnet命令-1" aria-hidden="true">#</a> dotnet命令</h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>最常用的dotnet命令</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>dotnet watch run
dotnet build
dotnet restore
dotnet tool install <span class="token operator">-</span>g PowerShell
dotnet publish <span class="token operator">-</span>r win-x64 <span class="token operator">-</span>c Release <span class="token operator">-</span>p:PublishSingleFile=true <span class="token operator">--</span>self-contained false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="dotnet添加tab补全" tabindex="-1"><a class="header-anchor" href="#dotnet添加tab补全" aria-hidden="true">#</a> dotnet添加tab补全</h2>`,4),u={href:"https://docs.microsoft.com/zh-cn/dotnet/core/tools/enable-tab-autocomplete",target:"_blank",rel:"noopener noreferrer"},d=e(`<p>把下面的代码添加到powershell配置文件</p><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code><span class="token comment"># PowerShell parameter completion shim for the dotnet CLI</span>
<span class="token function">Register-ArgumentCompleter</span> <span class="token operator">-</span>Native <span class="token operator">-</span>CommandName dotnet <span class="token operator">-</span>ScriptBlock <span class="token punctuation">{</span>
     <span class="token keyword">param</span><span class="token punctuation">(</span><span class="token variable">$commandName</span><span class="token punctuation">,</span> <span class="token variable">$wordToComplete</span><span class="token punctuation">,</span> <span class="token variable">$cursorPosition</span><span class="token punctuation">)</span>
         dotnet complete <span class="token operator">--</span>position <span class="token variable">$cursorPosition</span> <span class="token string">&quot;<span class="token variable">$wordToComplete</span>&quot;</span> <span class="token punctuation">|</span> <span class="token function">ForEach-Object</span> <span class="token punctuation">{</span>
            <span class="token namespace">[System.Management.Automation.CompletionResult]</span>::new<span class="token punctuation">(</span><span class="token variable">$_</span><span class="token punctuation">,</span> <span class="token variable">$_</span><span class="token punctuation">,</span> <span class="token string">&#39;ParameterValue&#39;</span><span class="token punctuation">,</span> <span class="token variable">$_</span><span class="token punctuation">)</span>
         <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装全局工具" tabindex="-1"><a class="header-anchor" href="#安装全局工具" aria-hidden="true">#</a> 安装全局工具</h2><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>dotnet tool install <span class="token operator">--</span>global PowerShell
dotnet tool install <span class="token operator">-</span>g PowerShell
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="一些好用的全局工具" tabindex="-1"><a class="header-anchor" href="#一些好用的全局工具" aria-hidden="true">#</a> 一些好用的全局工具</h3>`,5),k={href:"https://www.nuget.org/packages?packagetype=dotnettool&sortby=totalDownloads-desc&q=&prerel=false",target:"_blank",rel:"noopener noreferrer"},v=e(`<div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code><span class="token comment"># powershell安装</span>
dotnet tool install <span class="token operator">-</span>g PowerShell
<span class="token comment"># 根据editorconfig格式化cs代码</span>
dotnet tool install <span class="token operator">--</span>global dotnet-format <span class="token operator">--</span>version 5<span class="token punctuation">.</span>1<span class="token punctuation">.</span>250801

dotnet tool install <span class="token operator">-</span>g Microsoft<span class="token punctuation">.</span>dotnet-interactive 
dotnet tool install <span class="token operator">--</span>global dotnet-ef
dotnet tool install <span class="token operator">-</span>g  Cake<span class="token punctuation">.</span>Tool

dotnet tool install <span class="token operator">--</span>global GitVersion<span class="token punctuation">.</span>Tool 
<span class="token comment"># Octopus Deploy is an automated release management tool</span>
dotnet tool install <span class="token operator">--</span>global Octopus<span class="token punctuation">.</span>DotNet<span class="token punctuation">.</span><span class="token function">Cli</span> 
<span class="token comment"># Dotnet CLI tool allowing you to run C# (CSX) scripts.</span>
dotnet tool install <span class="token operator">--</span>global dotnet-script <span class="token operator">--</span>version 1<span class="token punctuation">.</span>3<span class="token punctuation">.</span>1
dotnet tool install <span class="token operator">--</span>global Nuke<span class="token punctuation">.</span>GlobalTool <span class="token operator">--</span>version 6<span class="token punctuation">.</span>2<span class="token punctuation">.</span>1
<span class="token comment"># 更新所有的tool</span>
dotnet tool install <span class="token operator">--</span>global dotnetCampus<span class="token punctuation">.</span>UpdateAllDotNetTools <span class="token operator">--</span>version 1<span class="token punctuation">.</span>0<span class="token punctuation">.</span>7


<span class="token comment"># 卸载</span>
dotnet tool uninstall dotnet-script <span class="token operator">-</span>g
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="打包发布" tabindex="-1"><a class="header-anchor" href="#打包发布" aria-hidden="true">#</a> 打包发布</h2>`,2),m={href:"https://docs.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2022",target:"_blank",rel:"noopener noreferrer"},b={href:"https://docs.microsoft.com/zh-cn/dotnet/core/deploying/deploy-with-cli",target:"_blank",rel:"noopener noreferrer"},g={href:"https://docs.microsoft.com/zh-cn/dotnet/core/deploying/single-file",target:"_blank",rel:"noopener noreferrer"},h={href:"https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-run",target:"_blank",rel:"noopener noreferrer"},f=e(`<div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>dotnet publish <span class="token punctuation">[</span>&lt;PROJECT&gt;<span class="token punctuation">|</span>&lt;SOLUTION&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>a<span class="token punctuation">|</span><span class="token operator">--</span>arch &lt;ARCHITECTURE&gt;<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">-</span>c<span class="token punctuation">|</span><span class="token operator">--</span>configuration &lt;CONFIGURATION&gt;<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">-</span>f<span class="token punctuation">|</span><span class="token operator">--</span>framework &lt;FRAMEWORK&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>force<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>interactive<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">--</span>manifest &lt;PATH_TO_MANIFEST_FILE&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>no-build<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>no-dependencies<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">--</span>no-restore<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>nologo<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>o<span class="token punctuation">|</span><span class="token operator">--</span>output &lt;OUTPUT_DIRECTORY&gt;<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">--</span>os &lt;OS&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>r<span class="token punctuation">|</span><span class="token operator">--</span>runtime &lt;RUNTIME_IDENTIFIER&gt;<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">--</span><span class="token function">sc</span><span class="token punctuation">|</span><span class="token operator">--</span>self-contained <span class="token namespace">[true|false]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">--</span>no-self-contained<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">-</span>s<span class="token punctuation">|</span><span class="token operator">--</span>source &lt;SOURCE&gt;<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>v<span class="token punctuation">|</span><span class="token operator">--</span>verbosity &lt;LEVEL&gt;<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token operator">--</span>version-suffix &lt;VERSION_SUFFIX&gt;<span class="token punctuation">]</span>

dotnet publish <span class="token operator">-</span>h<span class="token punctuation">|</span><span class="token operator">--</span>help
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="language-powershell"><code>dotnet publish <span class="token operator">-</span>r win-x64 <span class="token operator">-</span>c Release <span class="token operator">-</span>p:PublishSingleFile=true <span class="token operator">--</span>self-contained false
<span class="token comment"># 依赖于框架的可执行文件</span>
<span class="token comment"># --self-contained可以省略为--sc</span>
dotnet publish <span class="token operator">-</span>c Release <span class="token operator">-</span>r &lt;RID&gt; <span class="token operator">--</span>self-contained false
dotnet publish <span class="token operator">-</span>c Release
<span class="token comment"># 独立部署</span>
dotnet publish <span class="token operator">-</span>c Release <span class="token operator">-</span>r &lt;RID&gt; <span class="token operator">--</span>self-contained true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中rid</p><p>windows</p><ul><li>win-x64</li><li>win-x86</li></ul><p>linux</p><ul><li>linux-x64</li></ul><p>macos</p><ul><li>osx-x64</li></ul><p>部署的csproj</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Project</span> <span class="token attr-name">Sdk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Microsoft.NET.Sdk<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OutputType</span><span class="token punctuation">&gt;</span></span>Exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OutputType</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TargetFramework</span><span class="token punctuation">&gt;</span></span>net6.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TargetFramework</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublishSingleFile</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PublishSingleFile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SelfContained</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SelfContained</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RuntimeIdentifier</span><span class="token punctuation">&gt;</span></span>win-x64<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RuntimeIdentifier</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublishReadyToRun</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PublishReadyToRun</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Project</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>PublishSingleFile. 启用单文件发布。 此外，还会在 dotnet build 期间启用单文件警告。</li><li>SelfContained. 确定应用是独立的还是依赖于框架的。</li><li>RuntimeIdentifier. 指定目标 OS 和 CPU 类型。 默认情况下，还会设置 <code>&lt;SelfContained&gt;true&lt;/SelfContained&gt;</code>。</li><li>PublishReadyToRun. 启用预先 (AOT) 编译。</li></ul>`,12);function _(w,x){const a=c("ExternalLinkIcon");return p(),l("div",null,[r,n("p",null,[n("a",u,[s("官网"),t(a)])]),d,n("p",null,[n("a",k,[s("链接"),t(a)])]),v,n("p",null,[s("使用msbuild "),n("a",m,[s("使用msbuild"),t(a)]),s(" 打包程序 "),n("a",b,[s("使用cli"),t(a)]),s(" 生成单个exe文件")]),n("p",null,[n("a",g,[s("打包生成单个文件"),t(a)])]),n("p",null,[s("关于更多命令,见"),n("a",h,[s("官网"),t(a)])]),f])}const T=o(i,[["render",_],["__file","dotnet.html.vue"]]);export{T as default};
